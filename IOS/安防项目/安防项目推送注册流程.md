****
```flow
st=>start: 获取设备列表
ed=>end: 退出并取消订阅
readytosub=>operation: 准备订阅
init=>operation: 初始化(加同步锁，初始化一次)
waittonoti=>operation: 等待通知

isinited=>condition: 判断是否初始化
subproc=>condition: 订阅流程(是否成功)


st->readytosub->isinited
isinited(yes)->subproc
isinited(no)->init->subproc
subproc(yes)->waittonoti->ed
subproc(no)->isinited
```
****


